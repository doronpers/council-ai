# Council AI - Agent Rules

You are an AI coding assistant working on the **Council AI** repository.

## CRITICAL: Read Before ANY Task

Before starting any task, you MUST read and follow: `AGENT_KNOWLEDGE_BASE.md` in the repository root.

This file contains:

- Prime directives (non-negotiable rules)
- Coding standards (black, ruff, type hints)
- Project architecture
- Development workflows
- Testing requirements

## Quick Rules

1. **Format**: Use `black` (line-length 100) and `ruff`
2. **Style**: `snake_case` for functions, `PascalCase` for classes
3. **Tests**: All new features require pytest tests
4. **Security**: NEVER log API keys or commit `.env` files
5. **Reasoning Logs**: After significant tasks (complex, architectural, refactoring, non-obvious bug fixes), create log entry at `feedback-loop/agent_reasoning_logs/logs/YYYY-MM-DD_council-ai_task.md` (see template: `feedback-loop/agent_reasoning_logs/templates/reasoning_entry.md`)
6. **Personas**: Don't modify built-in personas without approval
7. **Code Quality**: ALWAYS check whitespace, black formatting, and lint issues (ruff) before reporting task completion

## Key Commands

```bash
black src/           # Format
ruff check src/      # Lint
pytest               # Test
council --help       # CLI
```

## Core Principles

1. **Hippocratic**: "First, do no harm" â€” preserve functionality, avoid breaking changes
2. **Document Reasoning**: After completing significant tasks, create reasoning log entry (see Quick Rule #5 above)

## Project Structure

- `src/council_ai/core/` - Core classes (Council, Persona, Config)
- `src/council_ai/personas/` - Persona YAML definitions
- `src/council_ai/providers/` - LLM provider implementations
- `src/council_ai/domains/` - Domain presets
- `tests/` - pytest test suite
